<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="keywords" content>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	<title>
		Surabaya SSW | Simulasi Retribusi
	</title>
	<link href="assets/css/font-awesome.min.css" rel="stylesheet">
	<link rel="stylesheet" id="metrolics_style-css" href="assets/css/style_ori.css" type="text/css" media="all">
	<link rel="stylesheet" id="metrolics_ubuntu-css" href="assets/font/ubuntu.css" type="text/css" media="all">
	<link rel="stylesheet" id="metrolics_responsive-css" href="assets/css/responsive.css" type="text/css" media="all">
	<link rel="stylesheet" id="metrolics_hover_style-css" href="assets/css/component.css" type="text/css" media="all">
	<link rel="stylesheet" href="assets/font/oswald.css" type="text/css">
	<link type="text/css" rel="stylesheet" href="assets/css/featherlight.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

	<!-- Latest compiled and minified JavaScript -->
	<script async="" src="https://www.google-analytics.com/analytics.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<style type="text/css">
		body, h1, h2, h3, h4, h5, h6, input, textarea, select { 
			font-family:'Ubuntu', sans-serif; 
			
		} 
		body {
			height: 100%;
		}
		.main-content {
			margin-top: 3em;
		}
		.button-custom {
			width: 50%;
		}
		.main {
			margin: 1em;
		}
		header {
			margin top: 3em;
			text-align: center;	
		}
		.top-title{
			font-family: "Oswald";
		    font-weight: bold;
		    font-size: 31px;
		    margin: 18px 0;
		}
		.content-header {
			text-align: center;
			vertical-align: middle;
		}
		.pedoman {
			/* Internet Explorer 10 */
			display:-ms-flexbox!important; 
			-ms-flex-pack:center!important;
			-ms-flex-align:center!important;

			/* Firefox */
			display:-moz-box!important;
			-moz-box-pack:center!important;
			-moz-box-align:center!important;

			/* Safari, Opera, and Chrome */
			display:-webkit-box!important;
			-webkit-box-pack:center!important;
			-webkit-box-align:center!important;

			/* W3C */
			display:box!important;
			box-pack:center!important;
			box-align:center!important;

			float: right;

			padding: 2em;
		}
		.content-header {
			font-family: "Ubuntu";
			font-weight: bold;
			font-size: 28px;
			letter-spacing: 3px;
			margin-bottom: 3%;
			margin-top: 3%;
		}
		sup {
            vertical-align: super;
            font-size: smaller;
        }
	</style>
</head>
<body style="align-content: center; text-align: center;">
	<div id="preloader" style="display: none;">
	<div id="status" style="display: none;">&nbsp;</div>
	</div>
	<div id="container" style="background: #F3F3F3;">
		<header style="background: #D71D43; border-bottom: 4px solid #91132D;">
			<div class="inside clear">
				<link rel="stylesheet" type="text/css" href="assets/css/style.css" media="screen">
				<script type="text/javascript" src="assets/js/jquery.min.js"></script>
				<style type="text/css">
					.cf-hidden { display: none; } .cf-invisible { visibility: hidden; }.style1 {
					color: #FFFFFF;
					font-weight: bold;
				}
				</style>
				<script type="text/javascript" src="assets/js/menu.js"></script>
				<div class="mainWrap">
					<a id="touch-menu" class="mobile-menu" href="#">
						<i class="icon-reorder"></i>
						Menu
					</a>
					<nav>
						<ul class="menu" style="font-size: 14px;">
							<li style="float: left;">
								<a href="http://ssw.surabaya.go.id/">
									<i class="fa fa-home"></i>
									&nbsp;Beranda
								</a>
							</li>
							<li style="float: left;">
								<a href="http://ssw.surabaya.go.id/index.php?hal=login">
									<i class="fa fa-lock"></i>
									&nbsp; Login
								</a>
							</li>
							<li style="float: left;">
								<a href="http://ssw.surabaya.go.id/index.php?hal=daftar">
									<i class="fa fa-edit"></i>
									&nbsp; Registrasi
								</a>
							</li>
							<li style="float: left;">
								<a href="index.html">
									<i class="fa fa-arrow-left"></i>
									&nbsp; Back
								</a>
							</li>
							<li style="float: right;">
								<a href="http://ssw.surabaya.go.id/info/pemohon/PANDUAN_CETAK_SK.pdf" target="_blank">
									<i class="fa fa-download"></i>
									&nbsp; Panduan Cetak SK
								</a>
							</li>
							<li style="float: right;">
								<a href="http://ssw.surabaya.go.id/info/pemohon/USER%20GUIDE%20INFO%20MONITORING%20BERKAS%20-%20LUPA%20PIN.pdf" target="_blank">
									<i class="fa fa-download"></i>
									&nbsp; Panduan Monitoring
								</a>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</header>
		<header>
			<div class="inside clear">
				<aside class="logo clear" style="padding-top: 0px;"> 
					<div class="top-title">
						<img src="assets/img/logo-sby.png" style="height: 40px; vertical-align: middle;" align="middle">
						SURABAYA
						<font color="#D71D43">SINGLE WINDOW</font>
						
					</div>				
				</aside>
				<div class="pedoman">
					<a href="assets/files/Tabel%20Pembagian%20Fungsi%20Lahan%20sesuai%20Perwali%20no%2052%20tahun%202017.pdf"><i class="fa fa-download"></i> Lihat Pedoman</a>
				</div>
			</div>
		</header>
		<section class="portofolio-showcase-block">
			<div class="inside" style="">
				<div class="content-header">
					PEDOMAN TEKNIS ARAHAN<br>
					SISTEM DRAINASE KOTA SURABAYA<br>
					KAJIAN - <i> MIXED USE </i>
				</div>
				<hr style="border: 2px solid grey;">
				<hr style="margin-top: -1em; border: 1px solid grey;">
				<div class="container main-content" style="text-align: left;">
		            <h4>Informasi yang tertera pada SKRK:</h4>
		            &nbsp;
					<form class="col-xs-12" method="POST">
						<div class="col-xs-12" style="margin: 1px !important;">
							<label class="col-xs-3">1. Total Luas Lahan</label>
							<input id="totallahan" type="text" name="sisa-lahan">
							<label>m<sup>2</sup></label>
						</div>
						<div class="col-xs-12" style="margin: 1px !important;">
							<label class="col-xs-3">2. Persentase KDB</label>
							<input type="text" id="chk60" onchange="check60(this)" name="sisa-lahan">
							<label>%</label>
						</div>
						<div class="col-xs-12" style="margin: 1px !important;">
							<label class="col-xs-3">3. Luas Dasar Bangunan</label>
							<input id="luasdasarbangunan" type="text" name="sisa-lahan" disabled>
							<label>m<sup>2</sup></label>
						</div>
						<hr>
		                &nbsp;
						<div class="col-xs-12" style="margin: 1px !important;">
							<label class="col-xs-3">4. Jumlah Kegiatan</label>
							<i class="fa fa-download"></i>
		                    <a href="assets/files/Tabel%20Pembagian%20Fungsi%20Lahan%20sesuai%20Perwali%20no%2052%20tahun%202017.pdf" target="_blank">Lihat Pedoman</a>
		                </div>
		                <div class="col-xs-12">
							<span class="col-xs-3"></span>
							<div class=" col-xs-8" style="align-content: center; margin: 0em 0em 1% 0em; padding: 0;">
								<div class="col-xs-12" style="padding: 0;">
									<div style="margin: 1px !important;">
										<label class="col-xs-4" style="padding: 0;">
		                                <input id="checkbox-retail" type="checkbox" name="retail-checkbox" value="0.75" style="margin-right: 1em;">4.1 Retail</label>
										<input id="text-retail-luas" type="text" onchange="getLuas()" name="bangunantext" value="0" disabled>
										<label>m<sup>2</sup></label>	
									</div>
									<div style="margin: 1px !important;">
										<label class="col-xs-4" style="padding: 0;">
		                                    <input id="checkbox-apartemen" type="checkbox" name="apartemen-checkbox" value="0.70" style="margin-right: 1em;">4.2 Apartemen</label>
										<input id="text-apartemen-luas" type="text" onchange="getLuas()" name="bangunantext" value="0" disabled>
										<label>m<sup>2</sup></label>
									</div>
									<div style="margin: 1px !important;">
										<label class="col-xs-4" style="padding: 0;"> 
		                                    <input id="checkbox-perbelanjaan" type="checkbox" name="pusat-belanja-checkbox" value="0.90" style="margin-right: 1em;">4.3 Pusat Perbelanjaan</label>
										<input id="text-perbelanjaan-luas" type="text" onchange="getLuas()" name="bangunantext" value="0" disabled>
										<label>m<sup>2</sup></label>
									</div>
									<div style="margin: 1px !important;">								
										<label class="col-xs-4" style="padding: 0;"><input id="checkbox-RTH" type="checkbox" name="rth-checkbox" value="0.20" style="margin-right: 1em;" checked disabled >4.4 RTH</label>
										<input id="text-RTH-luas" type="text" onchange="getLuas()" name="bangunantext" value="0" >
										<label>m<sup>2</sup></label>
									</div>
		                            <div style="margin: 1px !important;">
										<label class="col-xs-4" style="padding: 0;">
		                                    <input id="checkbox-jalan" type="checkbox" name="jalan-checkbox" value="0.85" style="margin-right: 1em;" checked disabled>4.5 Jalan</label>
										<input id="text-jalan-luas" type="text" onchange="getLuas()" name="bangunantext" value="0" >
										<label>m<sup>2</sup></label>
									</div>
								</div>
							</div>
						</div>
		                <div class="col-xs-12" style="margin: 1px !important;">
		                    <label class="col-xs-3">5. Info Sisa Lahan</label>
		                    <label id="infosisalahan" onchange="getLuas()" name="info-sisa-lahan">0</label>
							<label>m<sup>2</sup></label>
		                    <label id="warninginfosisalahan" style="font-style:italic; font-size: 10pt;"></label>
		                </div>
						<hr>
		                &nbsp;
						<div class="col-xs-12" style="margin: 1px !important;">
							<label class="col-xs-3">6. Volume Tampungan</label>
							<!-- <input id="volumetampung" type="text" value="0" name="info-volume-tampungan" disabled> -->
							<label id="volumetampung">0</label>
							<label>m<sup>3</sup></label>
						</div>
					</form>
				</div>
			</div>
		</section>		
		<footer style="background: inherit;margin-top: 5em !important;">
			Copyright &copy; 2019 Christopher Andrew - Muhammad Ryanda Nugraha N. M.
		</footer>
	</div>
	<script>
		document.getElementById('checkbox-retail').onclick = function() {
			document.getElementById('text-retail-luas').disabled = !this.checked;
			document.getElementById('text-retail-luas').value = 0;
			getLuas();
		};
		document.getElementById('checkbox-apartemen').onclick = function() {
			document.getElementById('text-apartemen-luas').disabled = !this.checked;
			document.getElementById('text-apartemen-luas').value = 0;
			getLuas();
		};
		document.getElementById('checkbox-perbelanjaan').onclick = function() {
			document.getElementById('text-perbelanjaan-luas').disabled = !this.checked;
			document.getElementById('text-perbelanjaan-luas').value = 0;
			getLuas();
		};

		function getLuas() {
			var klb = document.querySelectorAll('input[name=bangunantext]:enabled')
			var allklb = document.querySelectorAll('input[name=bangunantext]')
			var luaslahan = Number(document.getElementById("totallahan").value)
			var koefisien = document.querySelectorAll('input[type=checkbox]:checked')
			var luasdasar = Number(document.getElementById("luasdasarbangunan").value)
			var arraykoef = []
			var arrayklb = []
			var arraysemuaklb = []
			var array3bangunan = []
			var jumlah3bangunan = 0
			var jumlahsemuaklb = 0
			var jumlahklb = 0
			var jumlahkoef = 0
			var jalan = 0
			var volumtampung = 0
			var sisalahaninfo = 0
			//console.log("Jumlah klb="+klb.length);
			for (var i = 0; i < (klb.length) - 1; i++) {
				//console.log("Nilai Klb ke"+i+" = "+klb[i].value)
				arrayklb.push(klb[i].value)
				jumlahklb = jumlahklb + Number(klb[i].value)
			}
			for (var i = 0; i < (koefisien.length) - 2; i++) {
				//console.log("Nilai Koef ke"+i+" = "+koefisien[i].value)
				arraykoef.push(koefisien[i].value)
				jumlahkoef = jumlahkoef + Number(koefisien[i].value)
			}
			for (var i = 0; i < (allklb.length); i++) {
				//console.log("Nilai allKlb ke"+i+" = "+allklb[i].value)
				arraysemuaklb.push(allklb[i].value)
				jumlahsemuaklb = jumlahsemuaklb + Number(allklb[i].value)
			}
			for (var i = 0; i < (allklb.length) - 2; i++) {
				//console.log("Nilai 3allKlb ke"+i+" = "+allklb[i].value)
				array3bangunan.push(allklb[i].value)
				jumlah3bangunan = jumlah3bangunan + Number(allklb[i].value)
			}
			var luaskdb = Number(document.getElementById("luasdasarbangunan").value)
			var luasretail = Number(document.getElementById('text-retail-luas').value)
			var luasapartemen = Number(document.getElementById('text-apartemen-luas').value)
			var luasPerbelanjaan = Number(document.getElementById('text-perbelanjaan-luas').value)
			var luasrth = Number(document.getElementById('text-RTH-luas').value)
			var luasjalan = luaslahan - luasdasar - luasrth
			document.getElementById('text-jalan-luas').value = luasjalan
			var lsisa = (luasretail) + (luasapartemen) + (luasPerbelanjaan)
			var kurangi = (luasretail + luasapartemen + luasPerbelanjaan)
			var sisalahaninfo = luasdasar - (luasretail + luasapartemen + luasPerbelanjaan)
			document.getElementById("infosisalahan").textContent = sisalahaninfo.toFixed(2);
			var cgab = 0
			var cmax = Math.max(...arraykoef)
			var crth = 0.2
			var cjalan = 0.85
			var I = 31.637
			var A = luaslahan * 0.000001
			if (!isFinite(cmax)) {
				cmax = 0;
			}
			cgab = ((cmax * luasdasar) + (crth * luasrth) + (cjalan * luasjalan)) / (luaslahan)
			var Q = 0.278 * cgab * I * A
			var jam = 0
			var detik = 0
			if (luaslahan > 1000 && luaslahan <= 10000) {
				jam = 2
			} else if (luaslahan > 10000) {
				jam = 3
			}
			detik = jam * 3600
			//console.log("detik="+detik);
			volumtampung = Q * detik
			//console.log("volumtampung A="+volumtampung);
			if (!isFinite(volumtampung)) {
				volumtampung = 0
			}
			//console.log("volumtampung="+volumtampung);
			document.getElementById("volumetampung").textContent = volumtampung.toFixed(3)
		}

		function check60(e) {
			var check = (e.value > 60);
			if (check) {
				alert("Persentase KDB tidak diperbolehkan melebihi 60%.");
				document.getElementById("chk60").value = null;
			}
			var sisalahan = document.getElementById("totallahan").value
			var persen = document.getElementById("chk60").value
			var luasbangunan = sisalahan * (persen / 100);
			document.getElementById("luasdasarbangunan").value = luasbangunan;
		}
	</script>
</body>
</html>